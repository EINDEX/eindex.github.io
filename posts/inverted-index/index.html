<!doctype html><html charset=utf-8 lang=en><head><link href=https://eindex.me/feed.xml rel=alternate title=RSS type=application/rss+xml><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="text/html; charset=utf-8" http-equiv=content-type><meta content="width=device-width,initial-scale=1.0,maximum-scale=1" name=viewport><meta content=EINDEX itemprop=author name=author><title>å€’æ’ç´¢å¼• â€¢ EINDEX's Blog</title><meta content="å€’æ’ç´¢å¼• â€¢ EINDEX's Blog" property=og:title><meta charset=utf-8><link href="https://eindex.me/css/index.css?h=f8faf511a8be60c25ce46e10d43e25cc133e48203f3dc383262447b1abda9301" rel=stylesheet><style>@-moz-document url-prefix() {.lazy:-moz-loading {visibility:hidden;}}.ieOnly {display: none;}@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {.ieOnly {display: block;}}</style><link href="https://eindex.me/styles/fontawesome.min.css?h=7d272de35b410fb165377550cdf9c4d3a80fbbcc961e111914e4d5c0eaf5729f" rel=stylesheet><link href=https://webmention.io/eindex.me/webmention rel=webmention><link href=https://webmention.io/eindex.me/xmlrpc rel=pingback><link href=/favicon-512.png rel=apple-touch-icon sizes=512x512><link href=/favicon-512.png rel=icon sizes=512x512 type=image/png><link href=/favicon-192.png rel=icon sizes=192x192 type=image/png><link href=/manifest.json rel=manifest><meta content=https://eindex.me/posts/inverted-index/ property=og:url><meta content="EINDEX's Blog" property=og:site_name><meta content=https://eindex.me/images/avatar.png property=og:image><meta content=summary name=twitter:card><meta content="å€’æ’ç´¢å¼• â€¢ EINDEX's Blog" name=twitter:title><meta content=@eindex_li name=twitter:site><meta content=@eindex_li name=twitter:creator><meta content=https://eindex.me/images/avatar.png name=twitter:image><script type=application/ld+json>
    {
      "@context": "https://schema.org/",
      "@type": "BlogPosting",
      "headline": "å€’æ’ç´¢å¼•",
      "image": "https://eindex.me/images/avatar.png",
      
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://eindex.me/posts/inverted-index/"
      },
      
      "datePublished": "2019-08-27",
      
      
      "author": {
        "@type": "Person",
        "name": "EINDEX",
        "url": "https://eindex.me/about"
      },
      "publisher": {
        "@type": "Organization",
        "name": "EINDEX's Blog",
        "logo": {
          "@type": "ImageObject",
          "url": "https://eindex.me/images/avatar.png"
      },
      "keywords": ["ç®—æ³•","Index","Search Engine"]
    }
</script><script>(function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "ao1gr1m9ku");</script><body><nav class=navbar><ul class=items><li><a class=site-link href=https://eindex.me><img alt=Workflow class=avatar src=https://eindex.me/processed_images/985d495e6e585ad000.png><span class=site-name>EINDEX's Blog</span></a><li class=delimiter><li class=button><a href=https://eindex.me/archive/>å½’æ¡£</a><li class=button><a href=https://eindex.me/links/>å‹é“¾</a><li class=button><a href=https://eindex.me/about/>å…³äº</a></ul></nav><div class=content><main><article data-clarity-region=article><section class=header><section class=title-area><h1 class=title><a href=https://eindex.me/posts/inverted-index/>å€’æ’ç´¢å¼•</a></h1></section><section class=meta-area><span><i class="far fa-calendar-days"></i><time>2019-08-27</time></span><a class=categories href=https://eindex.me/categories/suan-fa/><i class="fa-solid fa-inbox"></i>ç®—æ³•</a><span><i class="fas fa-clock"></i> 5 mins</span></section></section><section class=main><p>ä¸–ç•Œä¸Šæœ€ä¼Ÿå¤§çš„äº’è”ç½‘äº§å“,è¯´æ˜¯æœç´¢å¼•æ“,ç»å¯¹æ²¡æœ‰åˆ«çš„äº§å“å¯ä»¥æ›¿ä»£,å°¤å…¶æ˜¯ä¼Ÿå¤§çš„å…ˆåœ¨å¸‚åœºå ç”¨ç‡æœ€é«˜çš„æœç´¢å¼•æ“,Google Search.<p>è¿˜æœ‰å¾ˆå¤šå·®ä¸€å¤§æˆªçš„,æ¯”å¦‚ Bing, Yahoo å’Œ YANDEX.</p><span id=continue-reading></span><h2 id=ä»€ä¹ˆæ˜¯æœç´¢å¼•æ“>ä»€ä¹ˆæ˜¯æœç´¢å¼•æ“</h2><p>æ‰€è°“æœç´¢å¼•æ“ï¼Œå°±æ˜¯æ ¹æ®ç”¨æˆ·éœ€æ±‚ä¸ä¸€å®šç®—æ³•ï¼Œè¿ç”¨ç‰¹å®šç­–ç•¥ä»äº’è”ç½‘æ£€ç´¢å‡ºåˆ¶å®šä¿¡æ¯åé¦ˆç»™ç”¨æˆ·çš„ä¸€é—¨æ£€ç´¢æŠ€æœ¯ã€‚<p>æœç´¢å¼•æ“æŠ€æœ¯çš„æ ¸å¿ƒæ¨¡å—ä¸€èˆ¬åŒ…æ‹¬çˆ¬è™«ã€ç´¢å¼•ã€æ£€ç´¢å’Œæ’åºç­‰ï¼ŒåŒæ—¶å¯æ·»åŠ å…¶ä»–ä¸€ç³»åˆ—è¾…åŠ©æ¨¡å—ï¼Œä»¥ä¸ºç”¨æˆ·åˆ›é€ æ›´å¥½çš„ç½‘ç»œä½¿ç”¨ç¯å¢ƒã€‚<h2 id=æœç´¢å¼•æ“å¹²äº†äº›ä»€ä¹ˆ>æœç´¢å¼•æ“å¹²äº†äº›ä»€ä¹ˆ</h2><p>ç®€å•çš„è¯´æœç´¢å¼•æ“ä»ç½‘ç»œä¸Šçˆ¬å–ç½‘é¡µ,ç„¶åå¯¹ç½‘é¡µä¿¡æ¯è¿›è¡Œæå–,æ„å»ºæ­£æ’ç´¢å¼•,ç„¶ååˆ†æç½‘é¡µå†…å®¹,å»ºç«‹å€’æ’æ–‡ä»¶.<p>æ¥ä¸‹æ¥æˆ‘å°†ä¾æ¬¡ä»‹ç» æ­£æ’ç´¢å¼•ã€ å€’æ’ç´¢å¼• ç­‰çŸ¥è¯†ç‚¹.<h2 id=æ­£æ’ç´¢å¼•>æ­£æ’ç´¢å¼•</h2><p>æ­£æ’ç´¢å¼•é€šå¸¸æ˜¯ id-document çš„é”®å€¼å¯¹<table><thead><tr><th>id<th>name<th>context<th>eng_context<tbody><tr><td>1<td>å°æ˜<td>ä»Šå¤©åƒäº†3ä¸ªåŒ…å­<td>today eating 3 baozi<tr><td>2<td>å°ä»“<td>æœ€åä¸€å¤©çœ‹äº†ä¸€æœ¬ä¹¦<td>read a book last day<tr><td>3<td>ä»“é¢‰<td>å»å¹´é€ äº†ä¸ªæ–°åå­—å…¸<td>make a xinhua dictionary last year</table><h2 id=å€’æ’ç´¢å¼•>å€’æ’ç´¢å¼•</h2><p>å€’æ’ç´¢å¼•æ˜¯å…³é”®è¯åˆ°idåˆ—è¡¨çš„æ˜ å°„å…³ç³».<p>å€’æ’ç´¢å¼•é‡Œé¢å·¦è¾¹çš„åˆ—å«åš term , é‡Œé¢å­˜å‚¨çš„é€šå¸¸æ˜¯ä¸€ä¸ªå…³é”®è¯; å³è¾¹çš„åˆ—å«åš posting list,é‡Œé¢å­˜å‚¨çš„æ˜¯æ–‡æ¡£çš„id.<p>å·¦ä¾§çš„ä¸€åˆ—ä¸€èµ·å«åš term dictionary.<p>é¦–å…ˆä¸Šé¢æœ‰æ¯ä¸ª document æœ‰3ä¸ª field , æ‰€ä»¥ä¼šåˆ›å»º3ä¸ªå€’æ’ç´¢å¼•.<p>å¦‚æœä½¿ç”¨é»˜è®¤çš„è‹±æ–‡åˆ†è¯å™¨,é‚£ä¹ˆè¡¨æ ¼ä¼šåˆ›å»ºçš„ç´¢å¼•å¤§æ¦‚æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­:<p>name index:<table><thead><tr><th>term<th>posting list<tbody><tr><td>å°<td>[1, 2]<tr><td>ä»“<td>[2, 3]<tr><td>æ˜<td>[1]<tr><td>é¢‰<td>[3]</table><p>context index:<table><thead><tr><th>term<th>posting list<tbody><tr><td>ä¸ª<td>[1, 3]<tr><td>äº†<td>[1, 2, 3]<tr><td>ä»Š<td>[1]<tr><td>...<td>...</table><p>eng_context index:<table><thead><tr><th>term<th>posting list<tbody><tr><td>last<td>[2, 3]<tr><td>a<td>[2, 3]<tr><td>dictionary<td>[3]<tr><td>...<td>...</table><hr><p>è¯»åˆ°è¿™é‡Œæƒ³æ¥ä½ ä¹Ÿä¼šæœ‰äº›è®¸ç–‘é—®?<ul><li>æ¯” MySQL Index çš„ä¼˜åŠ¿åœ¨å“ª?<li>å½“æœ‰1äº¿ Term æ—¶å¦‚ä½•é«˜æ•ˆæŸ¥è¯¢?<li>è”åˆæŸ¥è¯¢æ€ä¹ˆåŠ?<li>ç›¸å…³åº¦æ’åº?</ul><h2 id=Term_index>Term index</h2><p>å‡è±¡ä¸€ä¸‹æˆ‘ä»¬ç°åœ¨æœ‰ 1 äº¿ä¸ª term, é‚£ä¹ˆè¿™ä¸ª trem dictionary ä¼šå å¤šå°‘å†…å­˜å‘¢? å‡è®¾æ¯ä¸ª trem å ç”¨å†…å­˜ 6 byte, é‚£ä¹ˆäº¿ä¸ªå¤§çº¦å ç”¨ 0.6 GB, é‚£ä¹ˆå¦‚æœæ˜¯ä¸€ä¸ªéå¸¸å¤æ‚çš„æ–‡æ¡£, å²‚ä¸æ˜¯å†…å­˜ä¸å¤Ÿç”¨? è€Œä¸”ä¸ºä»€ä¹ˆæœç´¢å¼•æ“çš„é€Ÿåº¦è¿œè¿œå¿«äºMySQL çš„ç´¢å¼•é€Ÿåº¦?<p>é¦–å…ˆ Trem Index å®é™…ä¸Šæ˜¯ä¸€ç§å­—å…¸æ ‘(å‰ç¼€æ ‘), å¯ä»¥å°† term dictionary é‡Œçš„å†…å®¹ç»„æˆæ ‘çŠ¶ç»“æ„. ä¸‹å›¾ä¼šæ˜¯ä¸€ä¸ªæ™®é€šçš„å­—å…¸æ ‘. <img alt src=https://eindex.me/posts/inverted-index/media/15669198838069/15673442795943.jpg><p>è€Œ Term Index çš„ Value å°±æ˜¯ Term åœ¨ç£ç›˜ä¸­çš„ä½ç½®.<p>è€Œä¸” Trem Index é€šå¸¸ä¼šè¢«ç¼“å­˜åˆ°å†…å­˜ä¸­, å†åŠ ä¸Šä¼˜ç§€çš„æ ‘ç»“æ„, æ‰€ä»¥æŸ¥è¯¢é€Ÿåº¦æå¿«, å­—å…¸æ ‘çš„æ•°æ®ç»“æ„ä¼˜åŠ¿, ä½¿ä½“ç§¯è¿œå°äº term dictonary.<p>å¿«äº MySQL çš„ä¸»è¦åŸå› æ˜¯, å‡å°‘äº†è®¿é—®ç£ç›˜çš„æ¬¡æ•°.MySQL çš„B+æ ‘ä¼šåœ¨ç£ç›˜ä¸­å¤šæ¬¡è¯»å†™ä¸åŒä½ç½®, è€Œä½¿ç”¨ term index , åˆ™åªä¼šåœ¨åŒ¹é…åˆ° term æ—¶è¿›è¡Œä¸€æ¬¡ç£ç›˜è®¿é—®.<h2 id=è”åˆæŸ¥è¯¢>è”åˆæŸ¥è¯¢</h2><p>å¦‚ä½•è¿›è¡Œç´¢å¼•çš„è”åˆæŸ¥è¯¢, å½“ç¨‹åºè·å¾—å¤šä¸ªPosting list é‚£ä¹ˆç¨‹åºéœ€è¦ä»list ä¸­è¿›è¡Œå¤šæ¬¡äº¤é›†å¹¶é›†æ“ä½œ.å¦‚ä½•å‡å°‘è¿™äº›æ“ä½œå‘¢?<p>é€šå¸¸æœ‰ä¸¤ä¸ªè§£å†³æ–¹æ¡ˆ.<ul><li>bitset<li>è·³è¡¨</ul><p>å¯ä»¥è‡ªå·±å»çœ‹ä¸€ä¸‹ç›¸å…³çš„å·¥ä½œåŸç†ã€‚<h2 id=END>END</h2><p>æƒ³å¿…çœ‹å®Œä¹‹åï¼Œä½ ä¹Ÿå¯¹å€’æ’ç´¢å¼•å·¥ä½œåŸç†æœ‰ä¸€å®šçš„äº†è§£äº†å§ã€‚æ„Ÿè°¢é˜…è¯»ï¼</section><section class=post-footer><div class=tags><i class="fa-solid fa-tags"></i><span class=tag><a>Index</a></span><span class=tag><a>Search Engine</a></span></div></section><section class=comments><script async crossorigin=anonymous data-category-id=DIC_kwDOGWb6Ys4CAKn- data-emit-metadata=0 data-lang=zh-CN data-mapping=pathname data-reactions-enabled=1 data-repo=EINDEX/blog data-repo-id=R_kgDOGWb6Yg data-theme=light src=https://giscus.app/client.js></script></section></article></main><aside></aside></div><footer class=footer><div class=content><div class=item></div><div class=item></div><div class="item profile"><img class=avatar src=/images/avatar.png><ul class=links><li><a href=https://github.com/eindex rel=me target=_blank><i class="fab fa-github"></i><span>Github</span> </a><li><a href=https://twitter.com/eindex_li rel=me target=_blank><i class="fab fa-twitter"></i><span>Twitter</span> </a><li><a href=https://t.me/eindex rel=me target=_blank><i class="fab fa-telegram"></i><span>Telegram</span> </a><li><a href=mailto:eindex.me@outlook.com rel=me target=_blank><i class="fas fa-envelope"></i><span>Email</span> </a></ul></div></div><span class=webring> <a href=https://xn--sr8hvo.ws/%F0%9F%95%90%F0%9F%89%91%F0%9F%88%B6/previous>â†</a> An IndieWeb Webring ğŸ•¸ğŸ’ <a href=https://xn--sr8hvo.ws/%F0%9F%95%90%F0%9F%89%91%F0%9F%88%B6/next>â†’</a> </span><a class=powered-by href=https://github.com/EINDEX/qingzhuo target=_blank>Powered By QingZhuo </a></footer>