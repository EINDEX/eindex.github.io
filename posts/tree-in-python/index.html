<!DOCTYPE html>
<html lang="en" charset="utf-8">
  





<head>
  <link rel="alternate" type="application/rss+xml" title="RSS" href="https://preview.blog-2j7.pages.dev/feed.xml">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <meta name="author" itemprop="author" content="EINDEX">
  
  <title>Tree in Python &bull; EINDEX&#x27;s Blog</title>
  <meta property="og:title" content="Tree in Python &bull; EINDEX&#x27;s Blog" />
  

  <!-- Required meta tags -->
  <meta charset="utf-8" />


  <!-- **** BEGINNING, favicons **** -->

  <!-- generics -->

  <!-- iOS -->

  <!-- Android -->

  <!-- Windows 8, IE 10 -->

  <!-- Windows 8.1 and up, IE 11 -->

  <!-- **** CONCLUSION, favicons **** -->

  <!-- CSS/SCSS -->
  <link rel="stylesheet" href="https://preview.blog-2j7.pages.dev/css/index.css?h=f8faf511a8be60c25ce46e10d43e25cc133e48203f3dc383262447b1abda9301" />  <style>@-moz-document url-prefix() {.lazy:-moz-loading {visibility:hidden;}}.ieOnly {display: none;}@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {.ieOnly {display: block;}}</style>
  
  <link rel="stylesheet" href="https://preview.blog-2j7.pages.dev/styles/fontawesome.min.css?h=7d272de35b410fb165377550cdf9c4d3a80fbbcc961e111914e4d5c0eaf5729f">

  <link rel="webmention" href="https://webmention.io/eindex.me/webmention" />
  <link rel="pingback" href="https://webmention.io/eindex.me/xmlrpc" />
  
  
  
  <link rel="apple-touch-icon" sizes="512x512" href="/favicon-512.png">
  
  <link rel="icon" type="image/png" sizes="512x512" href="/favicon-512.png">
  
  
  <link rel="icon" type="image/png" sizes="192x192" href="/favicon-192.png">
  
  <link rel="manifest" href="/manifest.json">

  



  
    
  

  
    
  





<meta property="og:url" content="https://preview.blog-2j7.pages.dev/posts/tree-in-python/">
<meta property="og:site_name" content="EINDEX&#x27;s Blog">
<meta property="og:image" content="https://preview.blog-2j7.pages.dev/images/avatar.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Tree in Python &bull; EINDEX&#x27;s Blog">

<meta name="twitter:site" content="@eindex_li">
<meta name="twitter:creator" content="@eindex_li">
<meta name="twitter:image" content="https://preview.blog-2j7.pages.dev/images/avatar.png">

<script type="application/ld+json">
    {
      "@context": "https://schema.org/",
      "@type": "BlogPosting",
      "headline": "Tree in Python",
      "image": "https://preview.blog-2j7.pages.dev/images/avatar.png",
      
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://preview.blog-2j7.pages.dev/posts/tree-in-python/"
      },
      
      "datePublished": "2018-04-08",
      
      
      "author": {
        "@type": "Person",
        "name": "EINDEX",
        "url": "https://preview.blog-2j7.pages.dev/about"
      },
      "publisher": {
        "@type": "Organization",
        "name": "EINDEX's Blog",
        "logo": {
          "@type": "ImageObject",
          "url": "https://preview.blog-2j7.pages.dev/images/avatar.png"
      },
      "keywords": ["ç®—æ³•","Python"]
    }
</script>

  
  
  
</head>
  <body>
    <nav class="navbar">
    <ul class="items">
      <li>
        
        <a class="site-link" href="https:&#x2F;&#x2F;preview.blog-2j7.pages.dev&#x2F;"><img
            class="avatar"
            src="https:&#x2F;&#x2F;preview.blog-2j7.pages.dev&#x2F;processed_images&#x2F;985d495e6e585ad000.png"
            alt="Workflow"
        /><span class="site-name">EINDEX&#x27;s Blog</span></a>
      </li>
      <li class="delimiter"></li>
      
      <li class="button">
        <a
          href="https://preview.blog-2j7.pages.dev/archive/"
          >å½’æ¡£</a
        >
      </li>
      
      <li class="button">
        <a
          href="https://preview.blog-2j7.pages.dev/links/"
          >å‹é“¾</a
        >
      </li>
      
      <li class="button">
        <a
          href="https://preview.blog-2j7.pages.dev/about/"
          >å…³äº</a
        >
      </li>
      
    </ul>
</nav>


    <div class="content">
        <main>
            
  <article data-clarity-region="article">
    
<section class="header">
<section class="title-area">
    
    <h1 class="title">  
    <a href="https:&#x2F;&#x2F;preview.blog-2j7.pages.dev&#x2F;posts&#x2F;tree-in-python&#x2F;">Tree in Python</a>
    </h1>
  </section>
  <section class="meta-area">
  
    <span><i class="far fa-calendar-days"></i><time>2018-04-08</time></span>
  
  
    
    
    <a class="categories"  href="https:&#x2F;&#x2F;preview.blog-2j7.pages.dev&#x2F;categories&#x2F;suan-fa&#x2F;"><i class="fa-solid fa-inbox"></i>ç®—æ³•</a>
  
    <span><i class="fas fa-clock"></i> 7 mins</span>
  </section>
</section>

    <section class="main">
        
        <p>æ ‘æ˜¯è®¡ç®—æœºç§‘å­¦ä¸­å¸¸ç”¨çš„æ•°æ®ç»“æ„ä¹‹ä¸€,å¸¸è§çš„åœ°æ–¹æœ‰ï¼ŒJava çš„ç»§æ‰¿æ ‘ç­‰ã€‚
è¿˜æœ‰ä¸€äº›åŸºäºæ ‘çš„ç‰¹æ®Šæ•°æ®ç»“æ„ï¼Œæ¯”å¦‚äºŒå‰æ ‘ï¼ŒB æ ‘ï¼Œç­‰ç­‰ã€‚</p>
<p>æœ¬ç¯‡ä¼šè®²è¿°ä¸€äº›å…³äºç®€å•å…³äºæ ‘çš„æ“ä½œã€‚</p>
<span id="continue-reading"></span><h2 id="æ ‘çš„å®šä¹‰">æ ‘çš„å®šä¹‰</h2>
<blockquote>
<p>æ ‘ï¼ˆè‹±è¯­ï¼štreeï¼‰æ˜¯ä¸€ç§æŠ½è±¡æ•°æ®ç±»å‹ï¼ˆADTï¼‰æˆ–æ˜¯å®ä½œè¿™ç§æŠ½è±¡æ•°æ®ç±»å‹çš„æ•°æ®ç»“æ„ï¼Œç”¨æ¥æ¨¡æ‹Ÿå…·æœ‰æ ‘çŠ¶ç»“æ„æ€§è´¨çš„æ•°æ®é›†åˆã€‚å®ƒæ˜¯ç”±nï¼ˆn&gt;0ï¼‰ä¸ªæœ‰é™èŠ‚ç‚¹ç»„æˆä¸€ä¸ªå…·æœ‰å±‚æ¬¡å…³ç³»çš„é›†åˆã€‚æŠŠå®ƒå«åšâ€œæ ‘â€æ˜¯å› ä¸ºå®ƒçœ‹èµ·æ¥åƒä¸€æ£µå€’æŒ‚çš„æ ‘ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒæ˜¯æ ¹æœä¸Šï¼Œè€Œå¶æœä¸‹çš„ã€‚å®ƒå…·æœ‰ä»¥ä¸‹çš„ç‰¹ç‚¹ï¼š</p>
</blockquote>
<blockquote>
<ul>
<li>æ¯ä¸ªèŠ‚ç‚¹æœ‰é›¶ä¸ªæˆ–å¤šä¸ªå­èŠ‚ç‚¹</li>
<li>æ²¡æœ‰çˆ¶èŠ‚ç‚¹çš„èŠ‚ç‚¹ç§°ä¸ºæ ¹èŠ‚ç‚¹</li>
<li>æ¯ä¸€ä¸ªéæ ¹èŠ‚ç‚¹æœ‰ä¸”åªæœ‰ä¸€ä¸ªçˆ¶èŠ‚ç‚¹</li>
<li>é™¤äº†æ ¹èŠ‚ç‚¹å¤–ï¼Œæ¯ä¸ªå­èŠ‚ç‚¹å¯ä»¥åˆ†ä¸ºå¤šä¸ªä¸ç›¸äº¤çš„å­æ ‘</li>
</ul>
</blockquote>
<p>èŠ‚é€‰è‡ª <a href="https://zh.wikipedia.org/wiki/%E6%A0%91_(%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84)">æ ‘(æ•°æ®ç»“æ„)</a></p>
<h2 id="å®šä¹‰æ•°æ®ç»“æ„">å®šä¹‰æ•°æ®ç»“æ„</h2>
<pre data-lang="python" style="background-color:#272822;color:#f8f8f2;" class="language-python "><code class="language-python" data-lang="python"><span style="font-style:italic;color:#f92672;">class </span><span style="text-decoration:underline;color:#a6e22e;">TreeNode</span><span>(</span><span style="text-decoration:underline;font-style:italic;color:#a6e22e;">object</span><span>):
</span><span>    </span><span style="color:#75715e;">&quot;&quot;&quot;
</span><span style="color:#75715e;">    ä¸€ä¸ªæ ‘èŠ‚ç‚¹
</span><span style="color:#75715e;">    &quot;&quot;&quot;
</span><span>
</span><span>    </span><span style="font-style:italic;color:#f92672;">def </span><span style="color:#66d9ef;">__init__</span><span>(</span><span style="font-style:italic;color:#fd971f;">self</span><span>, </span><span style="font-style:italic;color:#fd971f;">value</span><span>, </span><span style="font-style:italic;color:#fd971f;">children</span><span>: </span><span style="font-style:italic;color:#66d9ef;">list </span><span style="color:#f92672;">= </span><span style="color:#ae81ff;">None</span><span>):
</span><span>        </span><span style="color:#75715e;">&quot;&quot;&quot;
</span><span style="color:#75715e;">
</span><span style="color:#75715e;">        :param value: èŠ‚ç‚¹çš„å€¼
</span><span style="color:#75715e;">        :param children: èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ï¼Œä¸€ä¸ª TreeNode çš„åˆ—è¡¨
</span><span style="color:#75715e;">        &quot;&quot;&quot;
</span><span>
</span><span>        self.value </span><span style="color:#f92672;">= </span><span>value
</span><span>
</span><span>        </span><span style="color:#f92672;">if not </span><span>children:
</span><span>            self.children </span><span style="color:#f92672;">= </span><span>[]
</span><span>        </span><span style="color:#f92672;">elif not </span><span>self.value:
</span><span>            self.children </span><span style="color:#f92672;">= </span><span>[]
</span><span>        </span><span style="color:#f92672;">else</span><span>:
</span><span>            self.children </span><span style="color:#f92672;">= </span><span>children
</span><span>
</span><span style="font-style:italic;color:#f92672;">class </span><span style="text-decoration:underline;color:#a6e22e;">Tree</span><span>(</span><span style="text-decoration:underline;font-style:italic;color:#a6e22e;">object</span><span>):
</span><span>    </span><span style="color:#75715e;">&quot;&quot;&quot;
</span><span style="color:#75715e;">    æ ‘ï¼šåŸºæœ¬æ ‘çš„æ•°æ®ç»“æ„
</span><span style="color:#75715e;">    &quot;&quot;&quot;
</span><span>
</span><span>    </span><span style="font-style:italic;color:#f92672;">def </span><span style="color:#66d9ef;">__init__</span><span>(</span><span style="font-style:italic;color:#fd971f;">self</span><span>, </span><span style="font-style:italic;color:#fd971f;">root</span><span>: TreeNode </span><span style="color:#f92672;">or </span><span style="color:#ae81ff;">None</span><span>):
</span><span>        </span><span style="color:#75715e;">&quot;&quot;&quot;
</span><span style="color:#75715e;">        ä¼ å…¥æ ¹èŠ‚ç‚¹
</span><span style="color:#75715e;">        :param root: å¦‚æœä¸º TreeNode ä¸ºæ ¹èŠ‚ç‚¹ï¼Œ å¦‚æœä¸º None ä¸ºç©ºä¹¦
</span><span style="color:#75715e;">        &quot;&quot;&quot;
</span><span>        </span><span style="color:#f92672;">if not </span><span>(root </span><span style="color:#f92672;">is </span><span style="color:#ae81ff;">None </span><span style="color:#f92672;">or </span><span style="color:#66d9ef;">isinstance</span><span>(root, TreeNode)):
</span><span>            </span><span style="color:#f92672;">raise </span><span style="font-style:italic;color:#66d9ef;">AttributeError</span><span>(</span><span style="color:#e6db74;">&#39;illegal root&#39;</span><span>)
</span><span>        self.root </span><span style="color:#f92672;">= </span><span>root
</span></code></pre>
<h2 id="å‰åºéå†">å‰åºéå†</h2>
<p>å…ˆéå†æ ¹èŠ‚ç‚¹ã€‚åœ¨éå†å­©å­èŠ‚ç‚¹ã€‚
<img src="https://preview.blog-2j7.pages.dev/posts/tree-in-python/media/15231560956719/%E5%89%8D%E5%BA%8F%E9%81%8D%E5%8E%86.jpg" alt="å‰åºéå†" /></p>
<h3 id="å¾ªç¯ç‰ˆ">å¾ªç¯ç‰ˆ</h3>
<pre data-lang="python" style="background-color:#272822;color:#f8f8f2;" class="language-python "><code class="language-python" data-lang="python"><span>    </span><span style="font-style:italic;color:#f92672;">def </span><span style="color:#a6e22e;">preorder_traversal_while</span><span>(</span><span style="font-style:italic;color:#fd971f;">self</span><span>):
</span><span>        </span><span style="color:#75715e;">&quot;&quot;&quot;
</span><span style="color:#75715e;">        æ ‘çš„å‰åºéå†
</span><span style="color:#75715e;">        :return: list of tree node value
</span><span style="color:#75715e;">        &quot;&quot;&quot;
</span><span>        res </span><span style="color:#f92672;">= </span><span>[]
</span><span>        </span><span style="color:#f92672;">if not </span><span>self.root:
</span><span>            </span><span style="color:#f92672;">return </span><span>res
</span><span>        stack </span><span style="color:#f92672;">= </span><span>[self.root]
</span><span>
</span><span>        </span><span style="color:#f92672;">while </span><span style="color:#66d9ef;">len</span><span>(stack):
</span><span>            node </span><span style="color:#f92672;">= </span><span>stack.pop()
</span><span>            </span><span style="color:#f92672;">if not </span><span>node.value:
</span><span>                </span><span style="color:#f92672;">continue
</span><span>            </span><span style="color:#f92672;">for </span><span>sub_node </span><span style="color:#f92672;">in </span><span>node.children[::</span><span style="color:#f92672;">-</span><span style="color:#ae81ff;">1</span><span>]:
</span><span>                stack.append(sub_node)
</span><span>            res.append(node.value)
</span><span>
</span><span>        </span><span style="color:#f92672;">return </span><span>res
</span></code></pre>
<h3 id="é€’å½’ç‰ˆ">é€’å½’ç‰ˆ</h3>
<pre data-lang="python" style="background-color:#272822;color:#f8f8f2;" class="language-python "><code class="language-python" data-lang="python"><span style="font-style:italic;color:#f92672;">def </span><span style="color:#a6e22e;">preorder_traversal_recursion</span><span>(</span><span style="font-style:italic;color:#fd971f;">self</span><span>):
</span><span>        </span><span style="color:#75715e;">&quot;&quot;&quot;
</span><span style="color:#75715e;">        æ ‘çš„å‰åºéå†
</span><span style="color:#75715e;">        :return: list of tree node value
</span><span style="color:#75715e;">        &quot;&quot;&quot;
</span><span>        res </span><span style="color:#f92672;">= </span><span>[]
</span><span>        </span><span style="color:#f92672;">if not </span><span>self.root:
</span><span>            </span><span style="color:#f92672;">return </span><span>res
</span><span>
</span><span>        </span><span style="font-style:italic;color:#f92672;">def </span><span style="color:#a6e22e;">_inner</span><span>(</span><span style="font-style:italic;color:#fd971f;">root</span><span>):
</span><span>            inner_res </span><span style="color:#f92672;">= </span><span>[]
</span><span>            </span><span style="color:#f92672;">if </span><span>root.value:
</span><span>                inner_res.append(root.value)
</span><span>                </span><span style="color:#f92672;">for </span><span>sub_node </span><span style="color:#f92672;">in </span><span>root.children:
</span><span>                    inner_res </span><span style="color:#f92672;">+= </span><span>_inner(sub_node)
</span><span>            </span><span style="color:#f92672;">return </span><span>inner_res
</span><span>        </span><span style="color:#f92672;">return </span><span>_inner(self.root)
</span></code></pre>
<h2 id="ååºéå†">ååºéå†</h2>
<p>å…ˆéå†å­©å­èŠ‚ç‚¹ï¼Œæœ€åéå†æ ¹èŠ‚ç‚¹ã€‚</p>
<p><img src="https://preview.blog-2j7.pages.dev/posts/tree-in-python/media/15231560956719/%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86.jpg" alt="ååºéå†" /></p>
<h3 id="å¾ªç¯ç‰ˆ-1">å¾ªç¯ç‰ˆ</h3>
<pre data-lang="python" style="background-color:#272822;color:#f8f8f2;" class="language-python "><code class="language-python" data-lang="python"><span style="font-style:italic;color:#f92672;">def </span><span style="color:#a6e22e;">postorder_traversal_while</span><span>(</span><span style="font-style:italic;color:#fd971f;">self</span><span>):
</span><span>        </span><span style="color:#75715e;">&quot;&quot;&quot;
</span><span style="color:#75715e;">        æ ‘çš„ååºéå†
</span><span style="color:#75715e;">        :return: list of tree node value
</span><span style="color:#75715e;">        &quot;&quot;&quot;
</span><span>        res </span><span style="color:#f92672;">= </span><span>[]
</span><span>
</span><span>        </span><span style="color:#f92672;">if not </span><span>self.root:
</span><span>            </span><span style="color:#f92672;">return </span><span>res
</span><span>
</span><span>        stack </span><span style="color:#f92672;">= </span><span>[self.root]
</span><span>
</span><span>        </span><span style="color:#f92672;">while </span><span style="color:#66d9ef;">len</span><span>(stack):
</span><span>            node </span><span style="color:#f92672;">= </span><span>stack.pop()
</span><span>            </span><span style="color:#f92672;">if not </span><span>node.value:
</span><span>                </span><span style="color:#f92672;">continue
</span><span>            </span><span style="color:#f92672;">for </span><span>sub_node </span><span style="color:#f92672;">in </span><span>node.children:
</span><span>                stack.append(sub_node)
</span><span>            res.append(node.value)
</span><span>
</span><span>        </span><span style="color:#f92672;">return </span><span>res[::</span><span style="color:#f92672;">-</span><span style="color:#ae81ff;">1</span><span>]
</span></code></pre>
<h3 id="é€’å½’ç‰ˆ-1">é€’å½’ç‰ˆ</h3>
<pre data-lang="python" style="background-color:#272822;color:#f8f8f2;" class="language-python "><code class="language-python" data-lang="python"><span>   </span><span style="font-style:italic;color:#f92672;">def </span><span style="color:#a6e22e;">postorder_traversal_recursion</span><span>(</span><span style="font-style:italic;color:#fd971f;">self</span><span>):
</span><span>        </span><span style="color:#75715e;">&quot;&quot;&quot;
</span><span style="color:#75715e;">        æ ‘çš„ååºéå†
</span><span style="color:#75715e;">        :return: list of tree node value
</span><span style="color:#75715e;">        &quot;&quot;&quot;
</span><span>        res </span><span style="color:#f92672;">= </span><span>[]
</span><span>        </span><span style="color:#f92672;">if not </span><span>self.root:
</span><span>            </span><span style="color:#f92672;">return </span><span>res
</span><span>
</span><span>        </span><span style="font-style:italic;color:#f92672;">def </span><span style="color:#a6e22e;">_inner</span><span>(</span><span style="font-style:italic;color:#fd971f;">root</span><span>):
</span><span>            inner_res </span><span style="color:#f92672;">= </span><span>[]
</span><span>            </span><span style="color:#f92672;">if </span><span>root.value:
</span><span>                </span><span style="color:#f92672;">for </span><span>sub_node </span><span style="color:#f92672;">in </span><span>root.children:
</span><span>                    inner_res </span><span style="color:#f92672;">+= </span><span>_inner(sub_node)
</span><span>                inner_res.append(root.value)
</span><span>            </span><span style="color:#f92672;">return </span><span>inner_res
</span><span>
</span><span>        </span><span style="color:#f92672;">return </span><span>_inner(self.root)
</span><span>
</span></code></pre>
<h2 id="å±‚æ¬¡éå†">å±‚æ¬¡éå†</h2>
<p>æŒ‰å±‚éå†èŠ‚ç‚¹ã€‚
<img src="https://preview.blog-2j7.pages.dev/posts/tree-in-python/media/15231560956719/%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86.jpg" alt="å±‚åºéå†" /></p>
<h3 id="å¾ªç¯ç‰ˆ-2">å¾ªç¯ç‰ˆ</h3>
<pre data-lang="python" style="background-color:#272822;color:#f8f8f2;" class="language-python "><code class="language-python" data-lang="python"><span style="font-style:italic;color:#f92672;">def </span><span style="color:#a6e22e;">layer_while</span><span>(</span><span style="font-style:italic;color:#fd971f;">self</span><span>):
</span><span>        </span><span style="color:#75715e;">&quot;&quot;&quot;
</span><span style="color:#75715e;">        æ ‘çš„å±‚åºéå†
</span><span style="color:#75715e;">        :return: list of tree node value
</span><span style="color:#75715e;">        &quot;&quot;&quot;
</span><span>        res </span><span style="color:#f92672;">= </span><span>[]
</span><span>        </span><span style="color:#f92672;">if not </span><span>self.root:
</span><span>            </span><span style="color:#f92672;">return </span><span>res
</span><span>
</span><span>        queue </span><span style="color:#f92672;">= </span><span>Queue()
</span><span>        queue.put(self.root)
</span><span>
</span><span>        </span><span style="color:#f92672;">while </span><span>queue.qsize():
</span><span>            node </span><span style="color:#f92672;">= </span><span>queue.get()
</span><span>            </span><span style="color:#f92672;">if not </span><span>node.value:
</span><span>                </span><span style="color:#f92672;">continue
</span><span>            res.append(node.value)
</span><span>            </span><span style="color:#f92672;">for </span><span>sub_node </span><span style="color:#f92672;">in </span><span>node.children:
</span><span>                queue.put(sub_node)
</span><span>        </span><span style="color:#f92672;">return </span><span>res
</span></code></pre>
<h2 id="æ±‚æ ‘çš„æ·±åº¦">æ±‚æ ‘çš„æ·±åº¦</h2>
<p>è®¡ç®—æ ‘çš„æœ€å¤§æ·±åº¦ã€‚</p>
<pre data-lang="python" style="background-color:#272822;color:#f8f8f2;" class="language-python "><code class="language-python" data-lang="python"><span> </span><span style="font-style:italic;color:#f92672;">def </span><span style="color:#a6e22e;">depth_recursion</span><span>(</span><span style="font-style:italic;color:#fd971f;">self</span><span>):
</span><span>
</span><span>        </span><span style="font-style:italic;color:#f92672;">def </span><span style="color:#a6e22e;">_inner</span><span>(</span><span style="font-style:italic;color:#fd971f;">root</span><span>, </span><span style="font-style:italic;color:#fd971f;">depth</span><span style="color:#f92672;">=</span><span style="color:#ae81ff;">1</span><span>):
</span><span>            </span><span style="color:#f92672;">if not </span><span>root.children:
</span><span>                </span><span style="color:#f92672;">return </span><span>depth
</span><span>            </span><span style="color:#f92672;">return </span><span style="color:#66d9ef;">max</span><span>([_inner(sub_node, depth</span><span style="color:#f92672;">+</span><span style="color:#ae81ff;">1</span><span>) </span><span style="color:#f92672;">for </span><span>sub_node </span><span style="color:#f92672;">in </span><span>root.children])
</span><span>
</span><span>        </span><span style="color:#f92672;">return </span><span>_inner(self.root)
</span></code></pre>
<h2 id="æ±‚æ ‘çš„ç»“ç‚¹æ•°">æ±‚æ ‘çš„ç»“ç‚¹æ•°</h2>
<p>è®¡ç®—æ ‘ä¸€å…±æœ‰å¤šå°‘èŠ‚ç‚¹ã€‚</p>
<pre data-lang="python" style="background-color:#272822;color:#f8f8f2;" class="language-python "><code class="language-python" data-lang="python"><span> </span><span style="font-style:italic;color:#f92672;">def </span><span style="color:#a6e22e;">node_count</span><span>(</span><span style="font-style:italic;color:#fd971f;">self</span><span>):
</span><span>        </span><span style="font-style:italic;color:#f92672;">def </span><span style="color:#a6e22e;">_inner</span><span>(</span><span style="font-style:italic;color:#fd971f;">root</span><span>):
</span><span>            </span><span style="color:#f92672;">if not </span><span>root.children:
</span><span>                </span><span style="color:#f92672;">return </span><span style="color:#ae81ff;">1
</span><span>            </span><span style="color:#f92672;">return </span><span style="color:#ae81ff;">1 </span><span style="color:#f92672;">+ </span><span style="color:#66d9ef;">sum</span><span>([_inner(sub_node) </span><span style="color:#f92672;">for </span><span>sub_node </span><span style="color:#f92672;">in </span><span>root.children])
</span><span>        </span><span style="color:#f92672;">return </span><span>_inner(self.root)
</span></code></pre>
<h2 id="æ±‚æ ‘çš„å¶å­æ•°">æ±‚æ ‘çš„å¶å­æ•°</h2>
<p>è®¡ç®—ä¹¦ä¸­æœ‰å¤šå°‘æ²¡æœ‰å­©å­çš„èŠ‚ç‚¹ã€‚</p>
<pre data-lang="python" style="background-color:#272822;color:#f8f8f2;" class="language-python "><code class="language-python" data-lang="python"><span style="font-style:italic;color:#f92672;">def </span><span style="color:#a6e22e;">leaf_count</span><span>(</span><span style="font-style:italic;color:#fd971f;">self</span><span>):
</span><span>        </span><span style="font-style:italic;color:#f92672;">def </span><span style="color:#a6e22e;">_inner</span><span>(</span><span style="font-style:italic;color:#fd971f;">root</span><span>):
</span><span>            </span><span style="color:#f92672;">if not </span><span>root.children:
</span><span>                </span><span style="color:#f92672;">return </span><span style="color:#ae81ff;">1
</span><span>            </span><span style="color:#f92672;">return </span><span style="color:#66d9ef;">sum</span><span>([_inner(sub_node) </span><span style="color:#f92672;">for </span><span>sub_node </span><span style="color:#f92672;">in </span><span>root.children])
</span><span>        </span><span style="color:#f92672;">return </span><span>_inner(self.root)
</span></code></pre>
<h2 id="æ±‚ä¸¤ä¸ªç»“ç‚¹çš„æœ€ä½å…¬å…±ç¥–å…ˆç»“ç‚¹">æ±‚ä¸¤ä¸ªç»“ç‚¹çš„æœ€ä½å…¬å…±ç¥–å…ˆç»“ç‚¹</h2>
<p>é¦–å…ˆéœ€è¦åœ¨æ ‘ä¸­æ‰¾åˆ°ä¸¤ä¸ªç»“ç‚¹ã€‚
ä¿å­˜æ‰¾åˆ°ä¸¤ä¸ªèŠ‚ç‚¹çš„é“¾è¡¨ã€‚
éå†ä¸¤ä¸ªé“¾è¡¨çš„æœ€é•¿å…¬å…±èŠ‚ç‚¹ï¼Œå°±èƒ½æ‰¾åˆ°æœ€ä½çš„å…¬å…±ç¥–å…ˆèŠ‚ç‚¹ã€‚
<img src="https://preview.blog-2j7.pages.dev/posts/tree-in-python/media/15231560956719/%E6%9C%80%E4%BD%8E%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88%E8%8A%82%E7%82%B9.jpg" alt="æœ€ä½å…¬å…±ç¥–å…ˆèŠ‚ç‚¹" /></p>
<pre data-lang="python" style="background-color:#272822;color:#f8f8f2;" class="language-python "><code class="language-python" data-lang="python"><span style="font-style:italic;color:#f92672;">def </span><span style="color:#a6e22e;">lowest_ancestor_node</span><span>(</span><span style="font-style:italic;color:#fd971f;">self</span><span>, </span><span style="font-style:italic;color:#fd971f;">node1</span><span>, </span><span style="font-style:italic;color:#fd971f;">node2</span><span>):
</span><span>        stack </span><span style="color:#f92672;">= </span><span>[self.root]
</span><span>        stack1 </span><span style="color:#f92672;">= </span><span style="color:#ae81ff;">None
</span><span>        stack2 </span><span style="color:#f92672;">= </span><span style="color:#ae81ff;">None
</span><span>
</span><span>        </span><span style="color:#f92672;">while </span><span style="color:#66d9ef;">len</span><span>(stack) </span><span style="color:#f92672;">and not </span><span>(stack1 </span><span style="color:#f92672;">and </span><span>stack2):
</span><span>            node </span><span style="color:#f92672;">= </span><span>stack.pop()
</span><span>
</span><span>            </span><span style="color:#f92672;">if </span><span>node </span><span style="color:#f92672;">is </span><span>node1:
</span><span>                stack1 </span><span style="color:#f92672;">= </span><span>stack[:]
</span><span>            </span><span style="color:#f92672;">if </span><span>node </span><span style="color:#f92672;">is </span><span>node2:
</span><span>                stack2 </span><span style="color:#f92672;">= </span><span>stack[:]
</span><span>            </span><span style="color:#f92672;">if not </span><span>node.value:
</span><span>                </span><span style="color:#f92672;">continue
</span><span>            </span><span style="color:#f92672;">for </span><span>sub_node </span><span style="color:#f92672;">in </span><span>node.children:
</span><span>                stack.append(sub_node)
</span><span>
</span><span>        res </span><span style="color:#f92672;">= </span><span>self.root
</span><span>        </span><span style="color:#f92672;">for </span><span>i </span><span style="color:#f92672;">in </span><span style="color:#66d9ef;">range</span><span>(</span><span style="color:#66d9ef;">len</span><span>(stack1)):
</span><span>            </span><span style="color:#f92672;">if </span><span>stack1[i] </span><span style="color:#f92672;">== </span><span>stack2[i]:
</span><span>                res </span><span style="color:#f92672;">= </span><span>stack1[i]
</span><span>            </span><span style="color:#f92672;">else</span><span>:
</span><span>                </span><span style="color:#f92672;">return </span><span>res.value
</span><span>
</span><span>        </span><span style="color:#f92672;">return </span><span>res.value
</span></code></pre>
<h2 id="æ±‚ä»»æ„ä¸¤ç»“ç‚¹è·ç¦»">æ±‚ä»»æ„ä¸¤ç»“ç‚¹è·ç¦»</h2>
<p>é¦–å…ˆéœ€è¦åœ¨æ ‘ä¸­æ‰¾åˆ°ä¸¤ä¸ªç»“ç‚¹ã€‚
ä¿å­˜æ‰¾åˆ°ä¸¤ä¸ªèŠ‚ç‚¹çš„é“¾è¡¨ã€‚
åœ¨åˆ¤æ–­å‰©ä½™çš„é•¿åº¦
<img src="https://preview.blog-2j7.pages.dev/posts/tree-in-python/media/15231560956719/%E4%BB%BB%E6%84%8F%E4%B8%A4%E8%8A%82%E7%82%B9%E8%B7%9D%E7%A6%BB.jpg" alt="ä»»æ„ä¸¤èŠ‚ç‚¹è·ç¦»" /></p>
<pre data-lang="python" style="background-color:#272822;color:#f8f8f2;" class="language-python "><code class="language-python" data-lang="python"><span style="font-style:italic;color:#f92672;">def </span><span style="color:#a6e22e;">two_node_distence</span><span>(</span><span style="font-style:italic;color:#fd971f;">self</span><span>, </span><span style="font-style:italic;color:#fd971f;">node1</span><span>, </span><span style="font-style:italic;color:#fd971f;">node2</span><span>):
</span><span>        stack </span><span style="color:#f92672;">= </span><span>[self.root]
</span><span>        stack1 </span><span style="color:#f92672;">= </span><span style="color:#ae81ff;">None
</span><span>        stack2 </span><span style="color:#f92672;">= </span><span style="color:#ae81ff;">None
</span><span>
</span><span>        </span><span style="color:#f92672;">while </span><span style="color:#66d9ef;">len</span><span>(stack) </span><span style="color:#f92672;">and not </span><span>(stack1 </span><span style="color:#f92672;">and </span><span>stack2):
</span><span>            node </span><span style="color:#f92672;">= </span><span>stack.pop()
</span><span>
</span><span>            </span><span style="color:#f92672;">if </span><span>node </span><span style="color:#f92672;">is </span><span>node1:
</span><span>                stack1 </span><span style="color:#f92672;">= </span><span>stack[:]
</span><span>            </span><span style="color:#f92672;">if </span><span>node </span><span style="color:#f92672;">is </span><span>node2:
</span><span>                stack2 </span><span style="color:#f92672;">= </span><span>stack[:]
</span><span>            </span><span style="color:#f92672;">if not </span><span>node.value:
</span><span>                </span><span style="color:#f92672;">continue
</span><span>            </span><span style="color:#f92672;">for </span><span>sub_node </span><span style="color:#f92672;">in </span><span>node.children:
</span><span>                stack.append(sub_node)
</span><span>
</span><span>        res </span><span style="color:#f92672;">= </span><span>self.root
</span><span>        </span><span style="color:#f92672;">for </span><span>i </span><span style="color:#f92672;">in </span><span style="color:#66d9ef;">range</span><span>(</span><span style="color:#66d9ef;">len</span><span>(stack1)):
</span><span>            </span><span style="color:#f92672;">if </span><span>stack1[i] </span><span style="color:#f92672;">== </span><span>stack2[i]:
</span><span>                res </span><span style="color:#f92672;">= </span><span>stack1[i]
</span><span>            </span><span style="color:#f92672;">else</span><span>:
</span><span>                </span><span style="color:#f92672;">return </span><span style="color:#66d9ef;">len</span><span>(stack1) </span><span style="color:#f92672;">+ </span><span style="color:#66d9ef;">len</span><span>(stack2) </span><span style="color:#f92672;">- </span><span style="color:#ae81ff;">2</span><span style="color:#f92672;">*</span><span>i
</span><span>
</span><span>        </span><span style="color:#f92672;">return </span><span style="color:#66d9ef;">len</span><span>(stack1) </span><span style="color:#f92672;">+ </span><span style="color:#66d9ef;">len</span><span>(stack2) </span><span style="color:#f92672;">- </span><span style="color:#ae81ff;">2</span><span style="color:#f92672;">*</span><span>i
</span><span>
</span></code></pre>
<h2 id="ç»¼è¿°">ç»¼è¿°</h2>
<p>ä»¥ä¸Šå°±æ˜¯å’Œæ ‘æœ‰å…³è”çš„ç®€å•ä»£ç ã€‚
ä»¥ä¸Šä»£ç ä¹Ÿåœ¨ Github ä¸Šå‘å¸ƒ <a href="https://github.com/EINDEX/Python-algorithm/blob/master/data_structure/tree/tree.py">tree</a>ï¼Œ å¦‚æœ‰å·®é”™ï¼Œæ¬¢è¿æäº¤ Issue æˆ– PRã€‚</p>
<h2 id="æ›´æ–°">æ›´æ–°</h2>
<ul>
<li>ä¿®å¤å›¾ç‰‡çš„ Bug</li>
</ul>

    </section>
    <section class="post-footer">
        
        
<div class="tags">
    <i class="fa-solid fa-tags"></i>
    
        <span class="tag"><a href="">Python</a></span>
    
</div>

    </section>
    
    <section class="comments">
        
<script src="https://giscus.app/client.js"
    data-repo="EINDEX&#x2F;blog"
    data-repo-id="R_kgDOGWb6Yg"
    data-category-id="DIC_kwDOGWb6Ys4CAKn-"
    data-mapping="pathname"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-theme="light"
    data-lang="zh-CN"
    crossorigin="anonymous"
    async>
</script>

    </section>
    
</article>


        </main>
        <aside>
            
        </aside>
    </div>
    <footer class="footer">
  <div class="content">
    <div class="item">
    </div>
    <div class="item"></div>
    <div class="item profile">
      <img class="avatar" src="/images/avatar.png" />
      <ul class="links">
        
        <li>
          <a href="https:&#x2F;&#x2F;github.com&#x2F;eindex" rel="me" target="_blank"
            ><i class="fab fa-github"></i><span>Github</span>
          </a>
        </li>
        
        <li>
          <a href="https:&#x2F;&#x2F;twitter.com&#x2F;eindex_li" rel="me" target="_blank"
            ><i class="fab fa-twitter"></i><span>Twitter</span>
          </a>
        </li>
        
        <li>
          <a href="https:&#x2F;&#x2F;t.me&#x2F;eindex" rel="me" target="_blank"
            ><i class="fab fa-telegram"></i><span>Telegram</span>
          </a>
        </li>
        
        <li>
          <a href="mailto:eindex.me@outlook.com" rel="me" target="_blank"
            ><i class="fas fa-envelope"></i><span>Email</span>
          </a>
        </li>
        
      </ul>
    </div>
  </div>
  
  
    
    
  
  <span class="webring">
<a href="https://xn--sr8hvo.ws/%F0%9F%95%90%F0%9F%89%91%F0%9F%88%B6/previous">â†</a>
An IndieWeb Webring ğŸ•¸ğŸ’
<a href="https://xn--sr8hvo.ws/%F0%9F%95%90%F0%9F%89%91%F0%9F%88%B6/next">â†’</a>
</span>
  <a
    class="powered-by"
    href="https://github.com/EINDEX/qingzhuo"
    target="_blank"
    >Powered By QingZhuo
  </a>
  
</footer>

  </body>
  
</html>